<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>IQ Test Troll</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    margin-top: 40px;
  }
  .question {
    font-size: 1.5em;
    margin: 20px 0;
  }
  .answers {
    display: flex;
    justify-content: center;
    gap: 10px;
  }
  button {
    padding: 10px 20px;
    font-size: 1em;
    cursor: pointer;
    position: relative;
  }
</style>
</head>
<body>

<h1>🧠 IQ Test</h1>
<div id="iq">IQ: 0</div>
<div id="quiz"></div>

<script>
let iq = 0;
let current = 0;

const questions = [
  {
    q: "What is 2 + 2 ?",
    a: ["3", "4", "5"],
    correct: "4"
  },
  {
    q: "Which one is a fruit?",
    a: ["Carrot", "Apple", "Potato"],
    correct: "Apple"
  },
  {
    q: "What color is the sky on a clear day?",
    a: ["Blue", "Green", "Red"],
    correct: "Blue"
  },
  {
    q: "What's Equator's Capital? (Hint: starts with Q)",
    a: ["Quito", "Milan", "London"],
    correct: "Milan", // Troll: clicking Quito will select Milan
    troll: true
  }
];

function loadQuestion() {
  if (current >= questions.length) {
    document.getElementById('quiz').innerHTML = `<h2>Test Finished! Your IQ is ${iq}</h2>`;
    return;
  }
  
  const q = questions[current];
  let html = `<div class="question">${q.q}</div><div class="answers">`;

  q.a.forEach(ans => {
    html += `<button onclick="checkAnswer('${ans}')">${ans}</button>`;
  });

  html += `</div>`;
  document.getElementById('quiz').innerHTML = html;

  if (q.troll) {
    const quitobtn = [...document.querySelectorAll("button")].find(b => b.textContent === "Quito");
    quitobtn.addEventListener("mouseover", () => {
      quitobtn.style.position = "absolute";
      quitobtn.style.left = Math.random() * (window.innerWidth - 100) + "px";
      quitobtn.style.top = Math.random() * (window.innerHeight - 50) + "px";
    });
    quitobtn.onclick = () => checkAnswer("Milan"); // force wrong mapping
  }
}

function checkAnswer(chosen) {
  const correct = questions[current].correct;
  if (chosen === correct) {
    iq += current < 3 ? 30 : 0; // +30 only for first 3
    document.getElementById('iq').textContent = `IQ: ${iq}`;
    alert("✅ Correct!");
  } else {
    alert("❌ Wrong!");
  }
  current++;
  loadQuestion();
}

loadQuestion();
</script>

</body>
</html>
